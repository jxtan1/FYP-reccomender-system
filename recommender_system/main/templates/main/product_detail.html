{% extends 'main/base.html' %}

{% block title %}Product Page{% endblock %}

{% block content %}
<!-- detail.html -->
<h1>{{ product.name }}</h1>
<p>Price: <br>{{ product.price }}</p>
<p>Sold: {{ product.sold_count }}</p>

<h2>Ratings and Reviews</h2>
<ul>
    {% for review in reviews %}
    <div class="review" style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; background-color: #f9f9f9;">
        <div class="rating">
            <strong>Rating:</strong> {{ review.rating }}
        </div>
        <div class="comment">
            <strong>Comment:</strong> {{ review.comment }}
        </div>
        <div class="username">
            <strong>Username:</strong> {{ review.username.username }}
        </div>
        <!-- You can add additional information from the review model here -->
    </div>
    {% empty %}
    <p> No review and rating yet :(</p>
    {% endfor %}
</ul>

<!-- Pagination controls -->
<div class="row justify-content-center">
    <div class="col-auto">
        <span style="display: inline-block;">
            {% if reviews.has_previous %}
                <a href="?page=1" class="btn btn-outline-secondary">First</a>
                <a href="?page={{ reviews.previous_page_number }}" class="btn btn-outline-secondary">Previous</a>
            {% endif %}

            <span style="font-weight: bold; background-color: #0405176f; color: #fff; text-decoration: none; padding: 5px 10px; margin: 0 5px; border: 1px solid #007bff; border-radius: 4px;">{{ reviews.number }}</span>

            {% if reviews.has_next %}
                <a href="?page={{ reviews.next_page_number }}" class="btn btn-outline-secondary">Next</a>
                <a href="?page={{ reviews.paginator.num_pages }}" class="btn btn-outline-secondary">Last</a>
            {% endif %}
        </span>
    </div>
</div>


{% endblock %}